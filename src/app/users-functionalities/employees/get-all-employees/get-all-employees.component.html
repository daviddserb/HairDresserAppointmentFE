<table mat-table [dataSource]="allEmployees$">
    <ng-container matColumnDef="count">
        <th mat-header-cell *matHeaderCellDef>No.</th>
        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}.</td>
    </ng-container>

    <ng-container matColumnDef="employeeId">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let element;">{{element.id}}</td>
    </ng-container>

    <ng-container matColumnDef="employeeName">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element;">{{element.name}}</td>
    </ng-container>

    <ng-container matColumnDef="employeeHairServices">
        <th mat-header-cell *matHeaderCellDef>Hair Services</th>
        <td mat-cell *matCellDef="let element;">
            <!-- Span to print them on the same line-->
            <span *ngFor="let services of element.employeeHairServices; last as isLast">
                {{services.hairService.name}}<span *ngIf="!isLast">, </span>
            </span>
        </td>
    </ng-container>
    <ng-container matColumnDef="employeeWorkingIntervals">
        <th mat-header-cell *matHeaderCellDef>Working Intervals</th>
        <td mat-cell *matCellDef="let element;">
            <div *ngFor="let workingInterval of allEmployeesWorkingIntervals$;">
                <div *ngIf="workingInterval.employee.id == element.id">
                    {{workingInterval.workingDay.name}}: {{workingInterval.startTime}} -> {{workingInterval.endTime}}
                </div>
            </div>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>